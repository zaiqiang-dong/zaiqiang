(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{451:function(r,a,t){"use strict";t.r(a);var s=t(27),e=Object(s.a)({},(function(){var r=this,a=r.$createElement,t=r._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[t("h1",{attrs:{id:"文件接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件接口"}},[r._v("#")]),r._v(" 文件接口")]),r._v(" "),t("h2",{attrs:{id:"_1-文件系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-文件系统"}},[r._v("#")]),r._v(" 1.文件系统")]),r._v(" "),t("p",[r._v("ftrace使用专用的文件系统ftracefs,挂载如下：")]),r._v(" "),t("div",{staticClass:"language-C line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[r._v("tracefs on "),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("sys"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("kernel"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("tracing type "),t("span",{pre:!0,attrs:{class:"token function"}},[r._v("tracefs")]),r._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),r._v("rw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(",")]),r._v("nosuid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(",")]),r._v("nodev"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(",")]),r._v("noexec"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(",")]),r._v("relatime"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br")])]),t("h2",{attrs:{id:"_2-文件接口描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-文件接口描述"}},[r._v("#")]),r._v(" 2.文件接口描述")]),r._v(" "),t("p",[t("strong",[r._v("current_trace")]),r._v("\n当前使用的tracer，默认是nop.")]),r._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[r._v("root@M"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("sys"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("kernel"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("tracing# cat current_tracer \nnop\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br")])]),t("p",[t("strong",[r._v("available_tracers")]),r._v("\n当前已经注册的tracer")]),r._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[r._v("root@M"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("sys"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("kernel"),t("span",{pre:!0,attrs:{class:"token operator"}},[r._v("/")]),r._v("tracing# cat available_tracers \nhwlat blk mmiotrace function_graph wakeup_dl wakeup_rt wakeup function nop\n")])]),r._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[r._v("1")]),t("br"),t("span",{staticClass:"line-number"},[r._v("2")]),t("br")])]),t("p",[t("strong",[r._v("tracing_on")])]),r._v(" "),t("ul",[t("li",[r._v("0 : disable ring buffer")]),r._v(" "),t("li",[r._v("1 : enable ring buffer")])]),r._v(" "),t("p",[r._v("这个只是针对ring buffer而言，并非禁用了tarce,只是不写入ring buffer.")]),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr"),r._v(" "),t("hr")])}),[],!1,null,null,null);a.default=e.exports}}]);